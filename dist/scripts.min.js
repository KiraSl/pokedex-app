var pokemonRepository=function(){var e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=152";function n(t){"object"==typeof t&&e.push(t)}function o(e){pokemonRepository.loadDetails(e).then(function(){!function(e){document.querySelector("h2").innerText=e.name,document.querySelector(".text-green").innerText=`Height: ${e.height}m`;var t=document.querySelector(".text-black span");for(;t.firstChild;)t.removeChild(t.firstChild);e.types.forEach(function(e){var n=document.createElement("span");n.classList.add(e),n.innerHTML=`${e} `,t.appendChild(n)});var n=document.querySelector(".pokemon-image");n.setAttribute("src",e.imageUrl),n.setAttribute("alt",`image of ${e.name}`),i.classList.add("is-visible")}(e)})}var i=document.querySelector("#modal-container");function r(){i.classList.remove("is-visible")}return document.querySelector(".modal-close").addEventListener("click",r),window.addEventListener("keydown",e=>{"Escape"===e.key&&i.classList.contains("is-visible")&&r()}),i.addEventListener("click",e=>{e.target===i&&r()}),document.querySelector("#search-bar").addEventListener("input",function(e){var t=e.target.value.toLowerCase();document.querySelectorAll(".pokemon-list__item").forEach(function(e){var n=e.firstChild.textContent;-1===n.toLowerCase().indexOf(t)?e.style.display="none":e.style.display=""})}),{add:n,getAll:function(){return e},addListItem:function(e){var t=document.querySelector(".pokemon-list"),n=document.createElement("li"),i=document.createElement("button");n.classList.add("pokemon-list__item"),i.classList.add("pokemon-list__button"),i.innerText=e.name,n.appendChild(i),t.appendChild(n),i.addEventListener("click",function(){o(e)})},showDetails:o,loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function(e){var t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=[],t.types.forEach(function(t){e.types.push(t.type.name)})}).catch(function(e){console.error(e)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});